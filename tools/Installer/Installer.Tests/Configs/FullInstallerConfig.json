{
  "location": "c:\\abs\\installer",
  "components": [
    {
      "name": "Docker",
      "actions": [
        {
          "source": "docker.zip",
          "destination": "c:\\docker.zip",
          "action": "copy"
        },
        {
          "source": "tar -xf c:\\docker.zip",
          "action": "executeImmediate"
        },
        {
          "source": "docker-compose.exe",
          "destination": "c:\\docker\\docker-compose.exe",
          "action": "copy"
        },
        {
          "source": "c:\\docker\\dockerd --register-service",
          "action": "executeImmediate"
        },
        {
          "source": "Start-Service docker",
          "action": "executeImmediate"
        },
        {
          "source": "c:\\docker",
          "action": "updatePath"
        },
        {
          "source": "docker-compose.root.yml",
          "destination": "c:\\config\\docker-compose.root.yml",
          "action": "copy"
        }
      ]
    },
    {
      "name": "RabbitMq",
      "actions": [
        {
          "source": "rabbitmq.tar",
          "action": "install"
        },
        {
          "source": "docker-compose.yml",
          "destination": "c:\\config\\rabbitmq\\docker-compose.yml",
          "action": "copy"
        },
        {
          "source": "cc-rabbitmq.conf",
          "destination": "c:\\config\\rabbitmq\\cc-rabbitmq.conf",
          "action": "copy"
        },
        {
          "source": "docker-compose.rabbitmq.yml",
          "destination": "c:\\config\\docker-compose.rabbitmq.yml",
          "action": "copy"
        }
      ]
    },
    {
      "name": "Vector",
      "actions": [
        {
          "source": "vector.tar",
          "action": "install"
        },
        {
          "source": "vector-loki.toml",
          "destination": "c:\\config\\vector\\vector-loki.toml",
          "action": "copy"
        },
        {
          "source": "vector.toml",
          "destination": "c:\\config\\vector\\vector.toml",
          "action": "copy"
        },
        {
          "source": "docker-compose.vector.yml",
          "destination": "c:\\config\\docker-compose.vector.yml",
          "action": "copy"
        }
      ]
    },
    {
      "name": "Drex",
      "actions": [
        {
          "source": "drex.tar",
          "action": "install"
        },
        {
          "source": "drex-demo-site-alpha.site-config.json",
          "destination": "c:\\config\\drex-demo-site-alpha.site-config.json",
          "action": "copy"
        },
        {
          "source": "drex-demo.client-app-config.json",
          "destination": "c:\\config\\drex-demo.client-app-config.json",
          "action": "copy"
        },
        {
          "source": "clean-logs.ps1",
          "destination": "c:\\config\\clean-logs.ps1",
          "action": "copy"
        },
        {
          "source": "docker-compose.drex.yml",
          "destination": "c:\\config\\docker-compose.drex.yml",
          "action": "copy"
        }
      ]
    },
    {
      "name": "Loki",
      "actions": [
        {
          "source": "loki.tar",
          "action": "install"
        },
        {
          "source": "cc-loki-config.yml",
          "destination": "c:\\config\\loki\\cc-loki-config.yml",
          "action": "copy"
        },
        {
          "source": "docker-compose.loki.yml",
          "destination": "c:\\config\\docker-compose.loki.yml",
          "action": "copy"
        }
      ]
    },
    {
      "name": "Execute",
      "actions": [
        {
          "source": "docker-compose -f c:\\config\\docker-compose.root.yml -f c:\\config\\docker-compose.rabbitmq.yml -f c:\\config\\docker-compose.vector.yml -f c:\\config\\docker-compose.drex.yml -f c:\\config\\docker-compose.loki.yml up --build",
          "action": "execute"
        }
      ]
    }
  ]
}
